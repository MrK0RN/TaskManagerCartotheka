# Портрет личности (TaskManagerCartotheka)

Веб-приложение для ведения **портретов личности** — анкет из 25 параметров (демография, ресурсы, психология, ценности, социальное измерение, поведенческие паттерны), **менеджера задач** с привязкой к людям и **встреч** по каждому портрету. Уведомления о днях рождения и задачах доставляются через **Telegram-бота**.

## Возможности

- **Портреты личности** — создание и редактирование анкет по 25 параметрам, разбитым на 6 секций.
- **Список портретов** — поиск по ФИО и тексту, фильтры по статусу и датам.
- **Просмотр портрета** — только заполненные блоки, ссылки на встречи и редактирование.
- **Встречи** — привязка встреч (дата, с кем, описание) к портрету.
- **Менеджер задач** — иерархические задачи с датами и привязкой к портрету (человеку).
- **Telegram-бот** — рассылка: дни рождения (8:00 и 20:00 МСК), задачи на сегодня/завтра (8:00, 20:00), напоминание об обновлении задач (22:00).

## Стек

- **Backend:** PHP 8.2, Apache
- **БД:** PostgreSQL 16
- **Frontend:** HTML, CSS, JavaScript (без фреймворков)
- **Бот:** Python 3, python-telegram-bot
- **Окружение:** Docker Compose

## Быстрый старт

1. Клонируйте репозиторий.
2. В корне создайте `.env` (см. [docs/development.md](docs/development.md)):
   ```env
   TELEGRAM_BOT_TOKEN=...   # от @BotFather (для бота)
   SITE_URL=http://localhost:8081
   ```
3. Запуск через Docker:
   ```bash
   docker compose up -d --build
   ```
4. Откройте в браузере: **http://localhost:8081**

Приложение: порт 8081. PostgreSQL: порт 5433 (пользователь `portrait_user`, БД `portrait_db`).

## Документация

| Документ | Описание |
|----------|----------|
| [docs/architecture.md](docs/architecture.md) | Архитектура и структура проекта |
| [docs/api.md](docs/api.md) | API (портреты, задачи, встречи, автодополнение) |
| [docs/database.md](docs/database.md) | Схема БД и миграции |
| [docs/development.md](docs/development.md) | Установка, запуск, переменные окружения |
| [docs/modules.md](docs/modules.md) | Модули параметров портрета (param-1 … param-25) |
| [telegram_bot/README.md](telegram_bot/README.md) | Telegram-бот: команды, расписание, cron |

## Лицензия

Проект для внутреннего использования.
